# üõ°Ô∏è SOC-AI: Instant Security Triage and Automation Platform

**Project Goal:** To transform raw, noisy security logs into structured, actionable intelligence and automated remediation actions in under a second, making security operations scalable and accessible for small-to-medium businesses (SMBs).

## ‚ú® Core Architecture and Technology Stack

SOC-AI leverages the high-speed processing of Groq and the orchestration power of Kestra to deliver real-time security automation.

* **Frontend:** Next.js, React, TypeScript, Tailwind CSS
* **Backend/API:** Next.js Route Handlers, TypeScript
* **Database:** MongoDB (for persistent log and incident storage)
* **Core AI Engine:** **Groq** (using `llama-3.3-70b-versatile` for sub-second, highly reliable structured triage)
* **Orchestration Engine:** **Kestra** (for managing and executing automated remediation flows)
* **Visualization:** Custom Next.js components and charts (for the Dashboard)

---

## üöÄ Day 4 Progress: Core Pipeline Complete and Dashboard Live

The core pipeline (Ingestion ‚Üí AI Triage ‚Üí Orchestration) is fully stabilized and integrated. The focus for Day 4 was to build the user-facing intelligence layer.

### Key Features Implemented

| Feature | Description | Status |
| :--- | :--- | :--- |
| **Real-time AI Triage** | Uses Groq's `llama-3.3-70b-versatile` to convert raw logs into a structured `Incident` object (with severity, summary, IOCs, and MITRE techniques) in milliseconds. | ‚úÖ Stable |
| **Kestra Remediation Engine** | The frontend triggers Kestra flows (`system.block-ip`, `system.create-ticket-jira`) via a stable, authenticated API endpoint for instant containment. | ‚úÖ Integrated |
| **Dashboard Analytics API** | A single, optimized API endpoint (`/api/analytics/dashboard`) that pulls concurrent MongoDB aggregations for hero stats, trends, and distributions. | ‚úÖ Complete |
| **AI System Summary** | A **Tier 1 Briefing** generated by Groq (Llama 3.3 70B) that summarizes the complex dashboard numbers into 3-4 actionable sentences, making daily risk assessment instantaneous. | ‚úÖ Complete |
| **Visual Dashboard** | Displays live data, including an Incident Severity Distribution chart and a Log Activity Trend chart, confirming the system's operational status. | ‚úÖ Complete |
| **Ingestion Webhook** | `/api/logs/webhook` is the primary entry point for external data (SIEMs, cloud logs), setting the `source: "webhook"`. | ‚úÖ Complete |

### Technical Fixes Highlighted

* **Model Stability:** Switched from `llama-3.1-8b-instant` to `llama-3.3-70b-versatile` to solve consistent JSON schema validation failures.
* **Kestra API Fix:** Successfully transitioned the execution trigger logic from unstable JSON/Tool-Calling to stable **raw JSON/Text-Inference Mode** with the 70B model.
* **Deployment Readiness:** Consolidated all setup into `.env` and stabilized routing logic for future Vercel deployment.

---

## üõ†Ô∏è Getting Started

### Prerequisites

* Node.js (v18+)
* MongoDB Instance (local or Atlas)
* Groq API Key
* Kestra Server running locally (`http://localhost:8080`)

### Setup and Running

1.  **Clone the repository:**
    ```bash
    git clone https://github.com/kaushik0010/soc-ai.git
    cd soc-ai
    ```
2.  **Install dependencies:**
    ```bash
    pnpm install
    ```
3.  **Configure environment:** Create a `.env.local` file:
    ```
    # Database
    MONGODB_URI=your_mongodb_connection_string
    
    # Groq API
    GROQ_API_KEY=your_groq_api_key
    
    # Kestra API (Localhost default)
    KESTRA_USERNAME=admin
    KESTRA_PASSWORD=admin
    ```
4.  **Run the application:**
    ```bash
    pnpm dev
    ```
5.  **View the Dashboard:** Navigate to `http://localhost:3000/dashboard`

---